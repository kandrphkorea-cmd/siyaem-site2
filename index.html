<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SiyaEm — Центр возможностей</title>
  <style>
    :root{
      --bg:#0F172A;          /* тёмный сине-серый для шапки */
      --bg-2:#0B1220;
      --text:#F8FAFC;        /* почти белый текст */
      --muted:#94A3B8;       /* серый текст */
      --brand:#10B981;       /* бирюзовый акцент */
      --gold:#EAB308;        /* золотой акцент */
      --paper:#0f172a0a;     /* очень светлый фон секций */
      --card:#111827;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial;
      background:#fff; color:#0f172a;
    }

    /* header */
    header{
      position:sticky; top:0; z-index:10;
      background:var(--bg);
      color:var(--text);
      border-bottom:1px solid #16213a;
    }
    .nav{
      max-width:1100px; margin:auto;
      display:flex; align-items:center; gap:24px;
      padding:14px 20px;
    }
    .brand{
      font-weight:800; letter-spacing:.5px;
      color:var(--text); text-decoration:none;
    }
    .brand b{ color: var(--gold); }
    nav a{
      color:var(--muted); text-decoration:none; font-weight:600;
      padding:8px 10px; border-radius:10px;
    }
    nav a:hover{ color:var(--text); background:var(--bg-2); }

    /* hero */
    .hero{
      max-width:1100px; margin:18px auto 0; padding:0 20px 20px;
    }
    .hero .note{
      background:var(--paper); border:1px solid #e5e7eb;
      border-radius:14px; padding:16px 18px; line-height:1.5;
    }
    .hero .note b{ color:#0f172a }
    .hero .note .ok{ color:var(--brand); font-weight:700 }

    /* map */
    #map{
      width:100%; height:70vh; min-height:420px;
      border-radius:14px; margin-top:14px;
      border:1px solid #e5e7eb;
    }

    /* footer */
    footer{ color:#475569; text-align:center; padding:26px 12px 40px }
    .btn{
      display:inline-block; background:var(--brand); color:white;
      padding:10px 14px; border-radius:10px; text-decoration:none; font-weight:700;
    }
    .btn:hover{ filter:brightness(0.95) }
  </style>
</head>
<body>
<header>
  <div class="nav">
    <a class="brand" href="#"><b>SiyaEm</b> Korea</a>
    <nav>
      <a href="#home">Главная</a>
      <a href="#services">Услуги</a>
      <a href="#about">О нас</a>
      <a href="#contact">Контакты</a>
    </nav>
  </div>
</header>

<main class="hero">
  <div class="note">
    <div style="font-size:18px; font-weight:800; margin-bottom:6px;">Партнёрская карта Дунпо (Асан-си)</div>
    Эти заведения уже <b>с нами сотрудничают</b> и <span class="ok">заинтересованы в совместном развитии</span>.  
    Если вы владелец бизнеса в 둔포면 — свяжитесь с нами, добавим вас на карту и подключим к экосистеме SiyaEm.
  </div>

  <div id="map"></div>
</main>

<footer>
  © 2025 SiyaEm Korea. Все права защищены · <a class="btn" href="#contact">Стать партнёром</a>
</footer>

<!-- Карта Google -->
<script>
  // === 1) ЗАПОЛНИ СВОЙ API КЛЮЧ НИЖЕ ===
  const GOOGLE_MAPS_API_KEY = "AIzaSyBfroP4Q7_yFpEMPXgDMn-bohk1xRxTkro";

  // === 2) ПАРТНЁРЫ: можно задавать координаты ИЛИ адрес ===
  // Если указаны lat/lng — используем их.
  // Если lat/lng нет, но есть address — сделаем геокодирование (нужно включить Geocoding API).
  const PARTNERS = [
    // Пример с координатами (если знаешь):
    // { title: "Радуга (продуктовый)", desc: "Русскоязычный магазин", lat: 36.93168, lng: 127.04431 },

    // Примеры с адресами (скрипт сам получит координаты):
    { title: "Радуга (продуктовый)",       desc: "Русскоязычный магазин", address: "충청남도 아산시 둔포면 둔포중앙로 115" },
    { title: "Мишка (готовые закуски)",    desc: "Кулинария",              address: "충청남도 아산시 둔포면 둔포중앙로109번길 13" },
    { title: "Конфетка (продукты)",        desc: "Продуктовый",            address: "충청남도 아산시 둔포면 둔포중앙로133번길 23-14" },
    { title: "Глобус (продукты)",          desc: "Продуктовый",            address: "충남 아산시 둔포면 둔포중앙로133번길 60-1" },
    { title: "Мистер Кук (кафе)",          desc: "Кафе",                   address: "충남 아산시 둔포면 둔포로 47" },
    { title: "Радуга 1층 (продуктовый)",   desc: "Продуктовый",            address: "충남 아산시 둔포면 둔포로 46 1층" },
    { title: "Мистер Кук Кебаб",           desc: "Шаурма/Кебаб",           address: "충남 아산시 둔포면 둔포로 41" },
    { title: "Кебаб (шаурма)",             desc: "Шаурма/Кебаб",           address: "충청남도 아산시 둔포면 둔포로 42" },
    { title: "Sushi Baker (роллы)",        desc: "Суши/Роллы",             address: "충남 아산시 둔포면 둔포면로 11" },
  ];

  // Центр карты — Дунпо (примерные координаты центра)
  const DUNPO_CENTER = { lat: 36.9326, lng: 127.0485 };

  // Загружаем Google Maps JS динамически
  (function loadMaps() {
    const s = document.createElement('script');
    s.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&callback=initMap&v=weekly&language=ru`;
    s.async = true; s.defer = true;
    document.head.appendChild(s);
  })();

  let map;
  async function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: DUNPO_CENTER,
      zoom: 15,
      mapId: "SiyaEmMap",
      streetViewControl: false,
      mapTypeControl: false,
      fullscreenControl: true,
    });

    // Пытаемся поставить метки
    await addPartnersMarkers(PARTNERS);
  }

  async function addPartnersMarkers(list){
    const geocoder = new google.maps.Geocoder();
    const bounds = new google.maps.LatLngBounds();

    for (const p of list){
      try{
        let position;
        if (typeof p.lat === "number" && typeof p.lng === "number"){
          position = { lat: p.lat, lng: p.lng };
        } else if (p.address){
          // геокодирование, если нет lat/lng
          const geo = await geocodeAddress(geocoder, p.address);
          if (!geo) continue;
          position = geo;
        } else {
          continue;
        }

        const marker = new google.maps.Marker({
          position, map,
          title: p.title
        });

        const content = `
          <div style="min-width:220px">
            <div style="font-weight:800; margin-bottom:6px">${escapeHtml(p.title || "")}</div>
            ${p.desc ? `<div style="margin-bottom:4px">${escapeHtml(p.desc)}</div>` : ""}
            ${p.address ? `<div style="color:#64748b">${escapeHtml(p.address)}</div>` : ""}
          </div>
        `;
        const info = new google.maps.InfoWindow({ content });
        marker.addListener('click', () => info.open({ anchor: marker, map }));

        bounds.extend(position);
      }catch(e){ console.warn("Marker error:", e); }
    }

    // Если хотя бы одна метка, подгоним карту
    if (!bounds.isEmpty()){
      map.fitBounds(bounds);
    }
  }

  function geocodeAddress(geocoder, address){
    return new Promise((resolve) => {
      geocoder.geocode({ address }, (res, status) => {
        if (status === "OK" && res && res[0]){
          const { location } = res[0].geometry;
          resolve({ lat: location.lat(), lng: location.lng() });
        } else {
          console.warn("Geocode failed:", status, address);
          resolve(null);
        }
      });
    });
  }

  function escapeHtml(str){
    return String(str).replace(/[&<>"']/g, s => (
      { '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[s]
    ));
  }
</script>
</body>
</html>



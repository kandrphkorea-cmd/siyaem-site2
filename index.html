<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SiyaEm Korea ‚Äî –ü–∞—Ä—Ç–Ω—ë—Ä—ã –∏ –†–µ—Å—Ç–æ—Ä–∞–Ω—ã</title>

<style>
:root{
  --bg:#f5f7fb;
  --text:#0f172a;
  --muted:#5b6b82;
  --primary:#3b82f6;
  --primary-2:#60a5fa;
  --surface:#ffffff;
  --surface-2:#eef3ff;
  --border:#e6ecf7;
  --radius:16px;
}
[data-theme="dark"]{
  --bg:#0f1629;
  --text:#e7ecf7;
  --muted:#a7b3c7;
  --primary:#6ea8ff;
  --primary-2:#93c5fd;
  --surface:#111a2e;
  --surface-2:#0f1830;
  --border:#1e2a43;
}
body{background:var(--bg);color:var(--text);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;margin:0;padding:0}
h2{margin:0 0 12px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px;margin:16px auto;max-width:900px;box-shadow:0 4px 20px rgba(0,0,0,.04)}
.btn{appearance:none;border:none;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
.btn-primary{background:var(--primary);color:#fff}
.btn-ghost{background:transparent;color:var(--text);border:1px solid var(--border)}
.partner-card{
  display:grid;grid-template-columns:72px 1fr;gap:16px;
  background:linear-gradient(180deg,var(--surface-2),var(--surface) 40%);
  border:1px solid var(--border);border-radius:18px;padding:16px;
  box-shadow:0 6px 18px rgba(59,130,246,.06);
}
.partner-avatar{
  width:72px;height:72px;border-radius:16px;
  background:linear-gradient(135deg,var(--primary),var(--primary-2));
  display:grid;place-items:center;color:#fff;font-weight:900;font-size:20px;
  overflow:hidden;
}
.partner-avatar img{width:100%;height:100%;object-fit:cover;border-radius:inherit}
.partner-title{font-weight:800;margin:0;color:var(--text)}
.partner-sub{color:var(--muted);margin:4px 0 8px}
.stars{color:#f59e0b;font-size:14px}
.promo-rail{display:flex;gap:16px;overflow:auto;scroll-snap-type:x mandatory;padding:8px 4px}
.promo-card{
  min-width:240px;max-width:240px;scroll-snap-align:start;
  background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden
}
.promo-card img{width:100%;height:148px;object-fit:cover;display:block}
.promo-body{padding:12px}
.promo-title{font-weight:800;margin:0 0 4px}
.promo-sub{color:var(--muted);font-size:13px}
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(2,6,23,.55);backdrop-filter:blur(6px);z-index:50}
.modal.show{display:grid}
.modal .box{width:min(720px,calc(100vw - 28px));background:var(--surface);border:1px solid var(--border);border-radius:18px;padding:18px}
.field{display:flex;flex-direction:column;gap:6px;margin:10px 0}
input,textarea{background:var(--surface-2);border:1px solid var(--border);border-radius:10px;padding:10px;color:var(--text)}
.theme-toggle{position:fixed;right:14px;bottom:14px;background:var(--surface);border:1px solid var(--border)}
#map{height:420px;width:100%;border-radius:12px;margin-top:12px}
</style>
</head>
<body>

<!-- –ü–∞–Ω–µ–ª—å –≤—Ö–æ–¥–∞ -->
<section class="card" style="text-align:center">
  <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ SiyaEm Korea</h2>
  <p style="color:var(--muted)">–ó–∞–π–¥–∏—Ç–µ –∫–∞–∫ –≥–æ—Å—Ç—å, —á—Ç–æ–±—ã –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã.</p>
  <button class="btn btn-primary" data-open="#signin">–í–æ–π—Ç–∏ –∫–∞–∫ –≥–æ—Å—Ç—å</button>
</section>

<!-- –ö–∞—Ä—Ç–∞ -->
<section class="card">
  <h2>–ö–∞—Ä—Ç–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤</h2>
  <div id="map"></div>
</section>

<!-- –ü–∞—Ä—Ç–Ω—ë—Ä -->
<section class="card" id="partners">
  <h2>–ü–∞—Ä—Ç–Ω—ë—Ä—ã (–º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ)</h2>
  <div class="partner-card">
    <div class="partner-avatar"><img src="img/mr-cook.jpg" alt="Mr. Cook"></div>
    <div>
      <h3 class="partner-title">–ú–∏—Å—Ç–µ—Ä –ö—É–∫ (Mr. Cook)</h3>
      <div class="partner-sub">–ß—Ö—É–Ω—á—Ö–æ–Ω–Ω–∞–º-–¥–æ ‚Ä¢ –ê—Å–∞–Ω-—Å–∏, –î–æ–Ω–ø–æ-–º—ë–Ω ¬∑ –ï–¥–∞ ‚Äî –ö–æ—Ä–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è, –°—Ç–æ–ª–æ–≤–∞—è</div>
      <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <span style="color:var(--muted)">(1)</span></div>
      <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn btn-primary" data-open="#review">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
        <button class="btn btn-ghost" data-show-on-map="mr_cook">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
      </div>
    </div>
  </div>
</section>

<!-- –í–∏—Ç—Ä–∏–Ω–∞ -->
<section class="card" id="promo">
  <h2>–ü–ª–∞–Ω –Ω–∞ —É–∏–∫–µ–Ω–¥</h2>
  <div class="promo-rail" id="promoRail">
    <article class="promo-card">
      <img src="img/mr-cook.jpg" alt="Mr. Cook">
      <div class="promo-body">
        <div class="promo-title">Mr. Cook</div>
        <div class="promo-sub">–î–æ–º–∞—à–Ω—è—è –∫–æ—Ä–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è –æ—Ç —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö —Ö–æ–∑—è–µ–≤</div>
      </div>
    </article>
  </div>
</section>

<!-- –ú–æ–¥–∞–ª–∫–∞ –≤—Ö–æ–¥–∞ -->
<div class="modal" id="signin">
  <div class="box">
    <h3 style="margin:0 0 8px">–í–æ–π—Ç–∏ –∫–∞–∫ –≥–æ—Å—Ç—å</h3>
    <p style="color:var(--muted);margin:0 0 12px">–£–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ e-mail, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ü–µ–Ω–∫–∏ –∏ –æ—Ç–∑—ã–≤—ã.</p>
    <form id="guestForm">
      <div class="field">
        <label>–ò–º—è</label>
        <input required name="name" placeholder="–í–∞—à–µ –∏–º—è">
      </div>
      <div class="field">
        <label>E-mail</label>
        <input required type="email" name="email" placeholder="you@example.com">
      </div>
      <div style="display:flex;gap:10px;margin-top:12px">
        <button class="btn btn-primary" type="submit">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        <button class="btn btn-ghost" type="button" data-close>–û—Ç–º–µ–Ω–∞</button>
      </div>
    </form>
  </div>
</div>

<!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
<button class="btn theme-toggle" id="themeT">üåì –¢–µ–º–∞</button>

<script>
const markersById = new Map();
function showOnMap(id){
  const m = markersById.get(id);
  if(!m){ alert('–ú–∞—Ä–∫–µ—Ä –ø–æ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω'); return; }
  m.getMap().panTo(m.getPosition());
  m.getMap().setZoom(17);
  google.maps.event.trigger(m, "click");
}
document.addEventListener('click',(e)=>{
  const btn = e.target.closest('[data-show-on-map]');
  if(!btn) return;
  showOnMap(btn.getAttribute('data-show-on-map'));
});

async function afterMapReady(map){
  const res = await fetch('partners.json',{cache:'no-cache'});
  const partners = await res.json();
  partners.filter(p=>p.approved).forEach(place=>{
    const m = new google.maps.Marker({
      position:{lat:place.lat,lng:place.lng},
      map,title:place.name,
      icon:{path:google.maps.SymbolPath.CIRCLE,scale:9,fillColor:"#3b82f6",fillOpacity:.95,strokeWeight:2,strokeColor:"#93c5fd"}
    });
    const info = new google.maps.InfoWindow({
      content:`<div style="max-width:260px"><strong>${place.name}</strong><br/>
      <small>${place.province_ru} ‚Ä¢ ${place.city_ru}</small><br/>${place.address}</div>`
    });
    m.addListener('click',()=>info.open({anchor:m,map}));
    markersById.set(place.id,m);
  });
}
function initMap(){
  const map = new google.maps.Map(document.getElementById("map"),{
    center:{lat:36.9305,lng:127.0458},zoom:13,mapTypeControl:false
  });
  afterMapReady(map);
}

const themeBtn=document.getElementById('themeT');
if(themeBtn){
  themeBtn.onclick=()=>{
    const d=document.documentElement;
    const next=d.getAttribute('data-theme')==='dark'?'':'dark';
    if(next)d.setAttribute('data-theme','dark');else d.removeAttribute('data-theme');
    localStorage.setItem('theme',next?'dark':'light');
  };
}
(function applySavedTheme(){
  const t=localStorage.getItem('theme');
  if(t==='dark')document.documentElement.setAttribute('data-theme','dark');
})();
document.querySelectorAll('[data-open]').forEach(b=>{
  b.addEventListener('click',()=>document.querySelector(b.dataset.open).classList.add('show'));
});
document.querySelectorAll('[data-close]').forEach(b=>{
  b.addEventListener('click',()=>b.closest('.modal').classList.remove('show'));
});
const guestForm=document.getElementById('guestForm');
if(guestForm){
  guestForm.addEventListener('submit',e=>{
    e.preventDefault();
    const fd=new FormData(guestForm);
    localStorage.setItem('guest',JSON.stringify({name:fd.get('name'),email:fd.get('email')}));
    guestForm.closest('.modal').classList.remove('show');
    alert('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, '+fd.get('name')+'!');
  });
}
</script>

<!-- Google Maps -->
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE&callback=initMap" async defer></script>

</body>
</html>

<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SiyaEm ‚Äî —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ –ö–æ—Ä–µ–µ</title>
<meta name="description" content="–ö–∞—Ç–∞–ª–æ–≥ –∏ –∫–∞—Ä—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã—Ö –º–µ—Å—Ç –≤ –ö–æ—Ä–µ–µ: –µ–¥–∞, —Å–∞–ª–æ–Ω—ã, –∞–≤—Ç–æ, –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ. –ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ." />

<style>
/* ---------- –¢–µ–º–∞ –∏ –¥–∏–∑–∞–π–Ω (Stripe-ish + Notion-ish) ---------- */
:root{
  --bg:#0b1020;
  --bg-2:#0e1228;
  --text:#ecf0ff;
  --muted:#aab3d3;
  --card:rgba(255,255,255,.06);
  --line:rgba(255,255,255,.12);
  --chip:#1f2a60;
  --acc:#6aa3ff;
  --acc-2:#ffd166;
  --good:#10b981;
  --warn:#f59e0b;
  --bad:#ef4444;
  --radius:18px;
  --shadow:0 8px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
  --blur:16px;
}
:root.light{
  --bg:#f6f7fb;
  --bg-2:#ffffff;
  --text:#0f1222;
  --muted:#4a5476;
  --card:rgba(255,255,255,.85);
  --line:rgba(0,0,0,.08);
  --chip:#eef2ff;
  --acc:#2557ff;
  --acc-2:#ffb703;
  --shadow:0 8px 24px rgba(10,14,34,.08);
  --blur:8px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text);
  background: radial-gradient(1200px 800px at 20% -10%, #1a2b6f55 0%, transparent 60%),
              radial-gradient(900px 700px at 120% 10%, #3f126955 0%, transparent 60%),
              linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 60%, var(--bg) 100%);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  letter-spacing:.2px;
}
a{color:var(--acc);text-decoration:none}
.wrap{max-width:1200px;margin:0 auto;padding:22px}
.glass{
  background:var(--card);
  backdrop-filter:blur(var(--blur));
  -webkit-backdrop-filter:blur(var(--blur));
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}
.row{display:grid;grid-template-columns:1fr;gap:18px}
@media (min-width:960px){.row{grid-template-columns:repeat(12,1fr)}}

/* ---------- –®–ê–ü–ö–ê ---------- */
.header{
  position:sticky; top:0; z-index:50;
  background:linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,0));
  backdrop-filter:saturate(1.2) blur(10px);
}
.nav{
  display:flex; align-items:center; justify-content:space-between; gap:16px;
  padding:12px 0;
}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.badge-dot{width:10px;height:10px;border-radius:50%;background:var(--acc-2);box-shadow:0 0 12px var(--acc-2)}
.theme-toggle{
  appearance:none;border:1px solid var(--line); background:var(--chip); color:var(--text);
  padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:700
}
.theme-toggle:hover{filter:brightness(1.05)}

/* ---------- –õ–ò–¶–ê-–ú–ê–°–ö–û–¢–´ (Notion vibe) ---------- */
.mascots{
  display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:10px
}
.face{
  width:46px;height:46px;border-radius:50%;
  background:radial-gradient(circle at 30% 25%, #fff 0%, #e9ecff 35%, #c7cff9 70%, #aab3ee 100%);
  border:2px solid #0003; display:grid;place-items:center;
  box-shadow:0 4px 18px rgba(0,0,0,.18);
  transform:translateZ(0);
}
.face svg{width:28px;height:28px}

/* ---------- HERO ---------- */
.hero{padding:28px; margin-top:10px}
.h1{
  font-size:clamp(32px,6vw,56px); line-height:1.05; font-weight:900; margin:8px 0 10px
}
.h1 strong{background:linear-gradient(90deg,#8ab4ff,#cba6ff,#ffcd7a);-webkit-background-clip:text;background-clip:text;color:transparent}
.hint{color:var(--muted)}
.typing{display:inline-block;border-right:2px solid var(--acc);padding-right:4px;animation:blink 1s step-end infinite}
@keyframes blink{50%{border-color:transparent}}

/* ---------- –§–ò–õ–¨–¢–†–´ + CTA ---------- */
.filters{
  display:flex;gap:10px;flex-wrap:wrap;margin-top:16px
}
.chip{
  background:var(--chip); border:1px solid var(--line); padding:10px 12px; border-radius:999px; color:var(--text); cursor:pointer;
  display:inline-flex;align-items:center;gap:8px; font-weight:700
}
.primary{
  background:linear-gradient(90deg,#4b7bff,#8ab4ff); color:white; border:none;
}
.primary:hover{filter:brightness(1.05)}
.ghost{background:transparent}

/* ---------- –†–ï–ö–õ–ê–ú–ù–´–ï –¢–ê–ô–õ–´ ---------- */
.ads{margin-top:18px}
.ad{
  aspect-ratio: 4/3; border-radius:20px; overflow:hidden; position:relative;
  background:#0d142e; border:1px dashed #6aa3ff66; box-shadow:var(--shadow);
}
.ad::before{
  content:"–†–µ–∫–ª–∞–º–Ω—ã–π —Å–ª–æ—Ç"; position:absolute; top:10px; left:12px;
  font-size:12px; color:#fff8; background:#0006; padding:4px 8px; border-radius:999px
}
.ad img{width:100%;height:100%;object-fit:cover;filter:contrast(1.05) saturate(1.05)}
.ad .frame{
  position:absolute; inset:0; pointer-events:none; border-radius:20px;
  border:2px solid transparent; background:
    linear-gradient(#0000,#0000) padding-box,
    linear-gradient(135deg,#6aa3ff66,#ffd16666) border-box;
}

/* ---------- –ö–ê–¢–ê–õ–û–ì ---------- */
.catalog{padding:20px}
.cards{display:grid;grid-template-columns:1fr; gap:14px}
@media (min-width:840px){.cards{grid-template-columns:repeat(2,1fr)}}
.card{
  display:grid; grid-template-columns:78px 1fr; gap:14px; padding:14px; border:1px solid var(--line); border-radius:16px; background:var(--card);
  box-shadow:var(--shadow);
}
.card .logo{
  width:78px;height:78px;border-radius:16px; background:#0d142e url('') center/cover no-repeat; display:grid;place-items:center;
  border:1px solid var(--line);
}
.card .meta small{color:var(--muted)}
.stars{display:flex;gap:4px;align-items:center;margin:6px 0}
.star{
  width:18px;height:18px; display:inline-grid; place-items:center; color:#ffcc66; cursor:pointer; filter:drop-shadow(0 2px 4px #0003)
}
.card .actions{display:flex;gap:10px;flex-wrap:wrap}
.btn{
  padding:10px 12px;border-radius:10px;border:1px solid var(--line); background:var(--chip); color:var(--text); cursor:pointer; font-weight:700
}
.btn.map{background:linear-gradient(90deg,#3a78ff,#6aa3ff); color:#fff;border:none}

/* ---------- –§–ê–ö–¢–´ / –†–ï–¶–ï–ü–¢–´ / –ó–ê–ú–ï–¢–ö–ò (Notion-like) ---------- */
.blocks{padding:20px; display:grid; gap:14px; grid-template-columns:1fr}
@media (min-width:960px){.blocks{grid-template-columns:2fr 1fr}}
.block{
  background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px; box-shadow:var(--shadow)
}
.block h3{margin:0 0 8px}
.note{border-left:4px solid var(--acc); padding-left:12px}
.fact{border-left:4px solid var(--acc-2); padding-left:12px}
.recipe{border-left:4px solid var(--good); padding-left:12px}

/* ---------- –î–õ–Ø –ö–û–ì–û ---------- */
.forwho{
  padding:20px; display:grid; gap:14px;
  grid-template-columns:repeat(2,1fr)
}
@media (min-width:960px){.forwho{grid-template-columns:repeat(4,1fr)}}
.tile{
  background:var(--card); border:1px solid var(--line); border-radius:16px; padding:14px; box-shadow:var(--shadow)
}
.tile small{color:var(--muted)}

/* ---------- MAP MODAL ---------- */
.modal{position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.5); z-index:60}
.modal.show{display:grid}
.modal .box{width:min(900px,calc(100vw - 24px)); background:var(--bg-2); border:1px solid var(--line); border-radius:16px; overflow:hidden}
.map-header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid var(--line)}
.map-body{height:480px}
.close{cursor:pointer;padding:8px 10px;border-radius:8px;border:1px solid var(--line);background:var(--chip);font-weight:700}

/* ---------- FOOTER ---------- */
footer{color:var(--muted);text-align:center;padding:28px 0}
</style>
</head>
<body>

<!-- ========== HEADER ========== -->
<div class="header">
  <div class="wrap nav">
    <div class="brand">
      <span class="badge-dot"></span>
      <span>SiyaEm Korea</span>
    </div>
    <div class="mascots">
      <!-- –ø—Ä–æ—Å—Ç—ã–µ —Å–≤–æ–∏ –ª–∏—Ü–∞ (SVG) -->
      <div class="face" title="hi">
        <svg viewBox="0 0 24 24" fill="none" stroke="#1c2756" stroke-width="2">
          <circle cx="8" cy="9" r="1.8"/><circle cx="16" cy="9" r="1.8"/>
          <path d="M6 16c2 2 10 2 12-2" />
        </svg>
      </div>
      <div class="face" title="chef">
        <svg viewBox="0 0 24 24" fill="none" stroke="#1c2756" stroke-width="2">
          <path d="M4 9h16" /><path d="M7 9c0-3 10-3 10 0" />
          <circle cx="9" cy="13" r="1.5"/><circle cx="15" cy="13" r="1.5"/>
        </svg>
      </div>
      <div class="face" title="camera">
        <svg viewBox="0 0 24 24" fill="none" stroke="#1c2756" stroke-width="2">
          <rect x="5" y="8" width="14" height="10" rx="2"/>
          <circle cx="12" cy="13" r="3"/><path d="M9 8l1.5-2h3L15 8"/>
        </svg>
      </div>
      <div class="face" title="salon">
        <svg viewBox="0 0 24 24" fill="none" stroke="#1c2756" stroke-width="2">
          <path d="M6 18c4-2 8-2 12 0" /><circle cx="9" cy="10" r="1.4"/><circle cx="15" cy="10" r="1.4"/>
        </svg>
      </div>
    </div>
    <button class="theme-toggle" id="themeToggle">–°–≤–µ—Ç–ª–∞—è/–¢—ë–º–Ω–∞—è</button>
  </div>
</div>

<!-- ========== HERO ========== -->
<div class="wrap">
  <section class="glass hero">
    <div class="h1">
      –û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å. <strong id="typing" class="typing"></strong>
    </div>
    <div class="hint">–ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –º–µ—Å—Ç–∞ —Å –ª–∏—Ü–µ–Ω–∑–∏–µ–π. –ü–æ–º–æ–≥–∞–µ–º –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, –≥–æ—Å—Ç—è–º ‚Äî –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–≤–æ—ë.</div>

    <div class="filters">
      <button class="chip" data-cat="–ï–¥–∞">üçú –ï–¥–∞</button>
      <button class="chip" data-cat="–°–∞–ª–æ–Ω—ã">üíÖ –°–∞–ª–æ–Ω—ã</button>
      <button class="chip" data-cat="–ê–≤—Ç–æ">üöó –ê–≤—Ç–æ</button>
      <button class="chip" data-cat="–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ">üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</button>
      <button class="chip ghost" id="openMap">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
      <button class="chip primary" id="bePartner">–°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º</button>
    </div>

    <!-- –†–µ–∫–ª–∞–º–Ω—ã–µ —Ç–∞–π–ª—ã -->
    <div class="ads row">
      <div class="ad glass" style="grid-column: span 4">
        <img alt="" src="https://images.unsplash.com/photo-1559339352-11d035aa65de?q=80&w=1200&auto=format&fit=crop" />
        <div class="frame"></div>
      </div>
      <div class="ad glass" style="grid-column: span 4">
        <img alt="" src="https://images.unsplash.com/photo-1515003197210-e0cd71810b5f?q=80&w=1200&auto=format&fit=crop" />
        <div class="frame"></div>
      </div>
      <div class="ad glass" style="grid-column: span 4">
        <img alt="" src="https://images.unsplash.com/photo-1543353071-087092ec393e?q=80&w=1200&auto=format&fit=crop" />
        <div class="frame"></div>
      </div>
    </div>
  </section>
</div>

<!-- ========== –ö–ê–¢–ê–õ–û–ì ========== -->
<div class="wrap">
  <section class="glass catalog">
    <h2 style="margin:0 0 8px">–ü–∞—Ä—Ç–Ω—ë—Ä—ã (–º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ)</h2>
    <div class="cards" id="cards">
      <!-- –ø—Ä–∏–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ -->
      <article class="card">
        <div class="logo" style="background-image:url('https://i.imgur.com/R0b0S6X.png')"></div>
        <div class="meta">
          <div style="font-weight:800">–ú–∏—Å—Ç–µ—Ä –ö—É–∫ (Mr. Cook)</div>
          <small>–ß—Ö—É–Ω—á—Ö–æ–Ω–Ω–∞–º-–¥–æ ‚Ä¢ –ê—Å–∞–Ω-—Å–∏, –î–æ–Ω–ø–æ-–º—ë–Ω ‚Ä¢ –ï–¥–∞ ‚Äî –ö–æ—Ä–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è, –°—Ç–æ–ª–æ–≤–∞—è</small>
          <div class="stars" data-id="mr_cook">
            <span class="star" data-v="1">‚òÖ</span>
            <span class="star" data-v="2">‚òÖ</span>
            <span class="star" data-v="3">‚òÖ</span>
            <span class="star" data-v="4">‚òÖ</span>
            <span class="star" data-v="5">‚òÖ</span>
            <small class="hint" style="margin-left:6px">(–æ—Ü–µ–Ω–æ–∫: <b id="r-mr_cook">1</b>)</small>
          </div>
          <div class="actions">
            <button class="btn" data-review="mr_cook">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            <button class="btn map" data-map="36.9305,127.0458">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
          </div>
        </div>
      </article>

      <!-- —Å—é–¥–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ –æ–±—Ä–∞–∑—Ü—É -->
    </div>
  </section>
</div>

<!-- ========== –ë–õ–û–ö–ò (Notion-style) ========== -->
<div class="wrap">
  <section class="blocks">
    <div class="block note">
      <h3>–ó–∞–º–µ—Ç–∫–∞: –∫–∞–∫ –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤</h3>
      –ú—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ñ–æ—Ç–æ –ª–∏—Ü–µ–Ω–∑–∏–∏, —Å–≤–µ—Ä—è–µ–º –∞–¥—Ä–µ—Å —Å –∫–∞—Ä—Ç–æ–π –∏ –¥–µ–ª–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π –≤–∏–∑–∏—Ç. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ç–æ—á–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏ –Ω–∞ –∫–∞—Ä—Ç–µ.
    </div>
    <div class="block fact">
      <h3>–§–∞–∫—Ç –¥–Ω—è</h3>
      –î–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∫—É—Ä–∏—Ü–∞ –ª–µ—Ç–µ–ª–∞ ~13 —Å–µ–∫—É–Ω–¥ (–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ –≤ 1954 –≥–æ–¥—É). –î–æ–±–∞–≤—å —Ç–∞–∫–∏–µ —Ñ–∞–∫—Ç—ã –≤ –ø—Ä–æ–º–æ ‚Äî —ç—Ç–æ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å üòâ
    </div>
    <div class="block recipe">
      <h3>–†–µ—Ü–µ–ø—Ç –º–∏–Ω–∏-–∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>
      1) –§–æ—Ç–æ (–ø–æ—Ä—Ç—Ä–µ—Ç –±–ª—é–¥–∞) 2) –ò—Å—Ç–æ—Ä–∏—è (2‚Äì3 —Å—Ç—Ä–æ–∫–∏) 3) –¶–µ–Ω–∞-—è–∫–æ—Ä—å 4) –ü—Ä–∏–∑—ã–≤ ¬´–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–æ–ª¬ª. –ü–æ–≤—Ç–æ—Ä—è—Ç—å —Ä–∞–∑ –≤ 3‚Äì4 –¥–Ω—è.
    </div>
  </section>
</div>

<!-- ========== –î–õ–Ø –ö–û–ì–û ========== -->
<div class="wrap">
  <section class="glass">
    <h2 style="margin:16px 16px 0">–î–ª—è –∫–æ–≥–æ —ç—Ç–æ</h2>
    <div class="forwho">
      <div class="tile">üçú –ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã <br><small>—Ñ–æ—Ç–æ-–∫–∞—Ä—Ç–æ—á–∫–∏, –∫—É–ø–æ–Ω—ã, –≥–µ–æ–º–µ—Ç–∫–∏</small></div>
      <div class="tile">üíÖ –°–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã <br><small>–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –∑–∞–ø–∏—Å—å, –ø—Ä–∞–π—Å</small></div>
      <div class="tile">üöó –ê–≤—Ç–æ–º–µ—Ö–∞–Ω–∏–∫–∏ <br><small>–≤–∏–¥—ã —Ä–∞–±–æ—Ç, —Å—Ä–æ—á–Ω—ã–µ –∑–∞—è–≤–∫–∏</small></div>
      <div class="tile">üéì –®–∫–æ–ª—ã, –∫—Ä—É–∂–∫–∏ <br><small>—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –Ω–∞–±–æ—Ä—ã, –æ—Ç–∑—ã–≤—ã</small></div>
    </div>
  </section>
</div>

<!-- ========== MAP MODAL ========== -->
<div class="modal" id="mapModal">
  <div class="box">
    <div class="map-header">
      <strong>–ö–∞—Ä—Ç–∞</strong>
      <button class="close" id="closeMap">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    <div id="map" class="map-body"></div>
  </div>
</div>

<footer>¬© 2025 SiyaEm Korea ‚Ä¢ –°–≤–µ—Ç–ª–∞—è/—Ç—ë–º–Ω–∞—è —Ç–µ–º—ã, –∂–∏–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ –±—ã—Å—Ç—Ä—ã–π –∫–∞—Ç–∞–ª–æ–≥</footer>

<script>
/* ---------- –¢—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è ---------- */
const themeBtn = document.getElementById('themeToggle');
themeBtn.addEventListener('click',()=>document.documentElement.classList.toggle('light'));

/* ---------- –ê–≤—Ç–æ–ø–µ—á–∞—Ç—å (Hero) ---------- */
const typingEl = document.getElementById('typing');
const phrases = ["–±–æ–ª—å—à–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.", "–Ω–∞—Å—Ç–æ—è—â–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã.", "–º–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–º –¥–æ–≤–µ—Ä—è–µ—à—å."];
let pi = 0, ci = 0, forward = true;
function typeLoop(){
  const p = phrases[pi];
  typingEl.textContent = p.slice(0,ci);
  ci += forward ? 1 : -1;
  if(ci === p.length + 12) forward = false;
  if(ci === 0){ forward = true; pi = (pi+1) % phrases.length; }
  setTimeout(typeLoop, forward ? 70 : 40);
}
typeLoop();

/* ---------- –†–µ–π—Ç–∏–Ω–≥ –∑–≤—ë–∑–¥–∞–º–∏ ---------- */
const ratings = {}; // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ partners.json + API
document.querySelectorAll('.stars').forEach(group=>{
  const id = group.dataset.id;
  ratings[id] = ratings[id] || 4.0; // —Å—Ç–∞—Ä—Ç
  group.querySelectorAll('.star').forEach(s=>{
    s.addEventListener('click', ()=>{
      const v = Number(s.dataset.v);
      ratings[id] = (ratings[id] * 1 + v) / 2; // –ø—Ä–æ—Å—Ç–∞—è —É—Å—Ä–µ–¥–Ω—ë–Ω–∫–∞
      const counter = document.getElementById('r-'+id);
      counter.textContent = Number(counter.textContent) + 1;
      paint(group, ratings[id]);
    });
  });
  paint(group, ratings[id]);
});
function paint(group, value){
  group.querySelectorAll('.star').forEach(st=>{
    st.style.opacity = Number(st.dataset.v) <= Math.round(value) ? '1' : '.35';
  });
}

/* ---------- –ú–æ–¥–∞–ª–∫–∞ –∫–∞—Ä—Ç—ã ---------- */
const mapModal = document.getElementById('mapModal');
document.getElementById('openMap').onclick = ()=>openMapAt(36.9305,127.0458);
document.querySelectorAll('[data-map]').forEach(b=>{
  b.addEventListener('click',()=>{
    const [lat,lng] = b.dataset.map.split(',').map(Number);
    openMapAt(lat,lng);
  });
});
document.getElementById('closeMap').onclick = ()=> mapModal.classList.remove('show');
function openMapAt(lat,lng){
  mapModal.classList.add('show');
  ensureMap(lat,lng);
}

/* –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Google Maps: –≤—Å—Ç–∞–≤—å —Å–≤–æ–π –∫–ª—é—á –Ω–∏–∂–µ (place YOUR_KEY_HERE) */
let _map,_marker,_mapsLoaded=false;
function ensureMap(lat,lng){
  if(!_mapsLoaded){
    const s = document.createElement('script');
    s.src = "https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE&callback=__initMap";
    s.async = true; window.__initMap = ()=>{ _mapsLoaded=true; initMap(lat,lng); };
    document.body.appendChild(s);
  } else initMap(lat,lng);
}
function initMap(lat,lng){
  const c = {lat,lng};
  if(!_map){
    _map = new google.maps.Map(document.getElementById('map'),{
      center:c, zoom:15, disableDefaultUI:false,
      styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]
    });
    _marker = new google.maps.Marker({position:c,map:_map});
  }else{
    _map.setCenter(c); _marker.setPosition(c);
  }
}

/* ---------- CTA ¬´–°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º¬ª (–ø–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞) ---------- */
document.getElementById('bePartner').onclick = ()=>{
  alert("–ö–æ—Ä–æ—Ç–∫–∞—è –∞–Ω–∫–µ—Ç–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∑–¥–µ—Å—å (Google Forms/Sheets). –ú—ã –ø–æ–¥–∫–ª—é—á–∏–º —ç—Ç–æ –∫ JSON/—Ç–∞–±–ª–∏—Ü–µ –∏ –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.");
};

/* ---------- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–∑ partners.json (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ----------
 * –ï—Å–ª–∏ —É —Ç–µ–±—è —É–∂–µ –µ—Å—Ç—å /partners.json, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π fetch –Ω–∏–∂–µ.
 * –§–æ—Ä–º–∞—Ç –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–≤–æ–π: [{ id, name, category, province_ru, city_ru, address, lat, lng, rating, ... }]
 */
/*
fetch('partners.json').then(r=>r.json()).then(list=>{
  const host = document.getElementById('cards');
  host.innerHTML = '';
  list.filter(x=>x.approved).forEach(p=>{
    host.insertAdjacentHTML('beforeend', `
      <article class="card">
        <div class="logo" style="background-image:url('${(p.logo||'')}')"></div>
        <div class="meta">
          <div style="font-weight:800">${p.name}</div>
          <small>${p.province_ru} ‚Ä¢ ${p.city_ru} ‚Ä¢ ${p.category}</small>
          <div class="stars" data-id="${p.id}">
            ${[1,2,3,4,5].map(v=>`<span class="star" data-v="${v}">‚òÖ</span>`).join('')}
            <small class="hint" style="margin-left:6px">(–æ—Ü–µ–Ω–æ–∫: <b id="r-${p.id}">${p.rating_count||0}</b>)</small>
          </div>
          <div class="actions">
            <button class="btn" data-review="${p.id}">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            <button class="btn map" data-map="${p.lat},${p.lng}">–ü–æ–∫–∞–∑–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
          </div>
        </div>
      </article>
    `);
  });
  // –ü–æ–≤—Ç–æ—Ä–Ω–æ –Ω–∞–≤–µ—Å–∏–º –∑–≤—ë–∑–¥—ã –∏ –∫–Ω–æ–ø–∫–∏ –∫–∞—Ä—Ç—ã:
  document.querySelectorAll('.stars').forEach(group=>{
    const id = group.dataset.id;
    ratings[id] = ratings[id] || 4;
    group.querySelectorAll('.star').forEach(s=>{
      s.addEventListener('click', ()=>{
        const v = Number(s.dataset.v);
        ratings[id] = (ratings[id] * 1 + v) / 2;
        const counter = document.getElementById('r-'+id);
        counter.textContent = Number(counter.textContent) + 1;
        paint(group, ratings[id]);
      });
    });
    paint(group, ratings[id]);
  });
  document.querySelectorAll('[data-map]').forEach(b=>{
    b.addEventListener('click',()=>{
      const [lat,lng] = b.dataset.map.split(',').map(Number);
      openMapAt(lat,lng);
    });
  });
});
*/
</script>
</body>
</html>
